(function($){$.fn.addRating=function(options,success){var obj=this;var settings=$.extend({max:5,fieldName:'rating',fieldId:'rating',icon:'star',default:0},options);this.settings=settings;$(this).empty();for(var i=1;i<=settings.max;i++){var star=$('<i/>').addClass('material-icons').html(this.settings.icon+((this.settings.icon=='star')?'_border':'')).data('rating',i).appendTo(this).click(function(){success($(this).data('rating'));settings.default=$(this).data('rating');obj.setRating($(this).data('rating'));}).hover(function(e){obj.showRating($(this).data('rating'),false,true);},function(){obj.showRating(settings.default,false,true);});}
$(this).append('<input type="hidden" name="'+settings.fieldName+'" id="'+settings.fieldId+'" />');if(settings.default>0){obj.showRating(settings.default,false,false);}};$.fn.setRating=function(numRating){var obj=this;$('#'+obj.settings.fieldId).val(numRating);obj.showRating(numRating,true,false);};$.fn.showRating=function(numRating,force,hovering){var obj=this;if($('#'+obj.settings.fieldId).val()==''||force){$(obj).find('i').each(function(){var icon=obj.settings.icon+((obj.settings.icon=='star')?'_border':'');if(hovering)
$(this).removeClass('hovering');else
$(this).removeClass('selected');if($(this).data('rating')<=numRating){icon=obj.settings.icon;if(hovering)
$(this).addClass('hovering');else{$(this).removeClass('hovering');$(this).addClass('selected');}}
$(this).html(icon);})}}}(jQuery));